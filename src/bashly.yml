name: peck
help: |
  Screenshot and screen recorder tool for Wayland.
version: 0.1.0

environment_variables:
  - name: peck_screenshot_dir
    default: $HOME/Pictures
    help:
      The directory to store screenshots to when
      no filepath is provided.
      Will create this if it does not exist.
      Overridden by [--temp | -t]
  - name: peck_recording_dir
    default: $HOME/Recordings
    help:
      The directory to store recordings to when
      no filepath is provided.
      Will create this if it does not exist.
      Overridden by [--temp | -t]
  - name: peck_screenshot_format
    default: png
    help:
      Output to convert the screenshot to.
      Accepts png|ppm|jpeg.
  - name: peck_recording_format
    default: mp4
    help:
      Output to convert the recording to.
      Will always record to mp4 first, and then
      use ffmpeg to convert to the desired format.
  - name: peck_silence_notifications
    default: "false"
    help:
      Determines whether peck will send a notification
      using libnotify.
  - name: peck_silence_start_recording
    default: "false"
    help:
      Determines whether peck will send a notification
      when recording has started.

args:
  - name: filepath
    help: Filepath to save to

flags:
  - long: --clipboard
    short: -c
    help: Copy the output file to the clipboard.
  - long: --record
    short: -r
    help: Record rather than screenshot.
  - long: --temp
    short: -t
    help: Store the file in /tmp/.
  - long: --format
    short: -f
    arg: file_format
    help:
      Override the output format set by
      \$PECK_SCREENSHOT_FORMAT
      or \$PECK_RECORDING_FORMAT.
      Accepts png|ppm|jpeg and mp4|gif by default.
      Other video formats may need --filter
  - long: --filter
    short: -F
    arg: video_filter
    help:
      Supply custom filter format to ffmpeg
      used for conversion of mp4 to the desired
      format set with --format

examples: |
  peck
    Capture a screenshot.
  peck [foo|bar/baz]
    Capture a screenshot.
    Store to [./foo.png|./bar/baz.png]
  peck --record
    Capture a recording.
    Recording can be stopped with CTRL-C or by
    running peck again.
  peck --record --format=gif
    Capture a recording, then convert it to gif.
  peck --record --temp --clipboard
    Capture a screenshot, store it temporarily,
    and copy it to the clipboard.
  peck --record --format webm --filter "fps=30,scale=1280:-1:flags=lanczos"
    Capture a recording, then convert it to webm,
    using an ffmpeg filter.
